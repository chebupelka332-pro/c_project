# Huffman Archiver

Данный проект представляет собой реализацию архиватора, основанного на алгоритме Хаффмана. Архиватор позволяет сжимать и распаковывать файлы и директории в бинарном формате с поддержкой алфавитов шириной 1 или 2 байта. Проект реализован на языке C с использованием многомодульной структуры и включает систему сборки через Makefile.

## Структура проекта

```
project/
├── bin/                    # Исполняемые файлы
│   └── huffman             # Архиватор
├── include/                # Заголовочные файлы
│   ├── args.h
│   ├── bitstream.h
│   ├── color.h
│   ├── decoder.h
│   ├── encoder.h
│   ├── fileutils.h
│   └── huffman.h
├── obj/                    # Объектные файлы
│   ├── args.o
│   ├── bitstream.o
│   ├── decoder.o
│   ├── encoder.o
│   ├── fileutils.o
│   ├── huffman.o
│   └── main.o
├── src/                    # Исходные файлы
│   ├── args.c
│   ├── bitstream.c
│   ├── decoder.c
│   ├── encoder.c
│   ├── fileutils.c
│   ├── huffman.c
│   └── main.c
├── test/                   # Каталог для тестов
├── Makefile                # Файл сборки
```

## Возможности

- Сжатие и распаковка любых файлов
- Поддержка архивации нескольких файлов и директорий
- Выбор ширины алфавита: 1 или 2 байта
- Отображение прогресса при обработке больших данных
- Вывод статистики после завершения работы: исходный размер, размер архива, коэффициент сжатия
- Обработка некорректных аргументов с выводом справки
- Корректное управление памятью без утечек

## Сборка

Для сборки проекта необходимо использовать команду:

```bash
make
```

В результате в каталоге `bin/` появится исполняемый файл `huffman`.

## Использование

Общий синтаксис запуска:

```
./huffman [режим] [опции]
```

### Режимы:

- `-c`, `--compress` — сжатие
- `-d`, `--decompress` — распаковка
- --help` — справка

### Опции:

- `-o <путь>` — путь к выходному архиву или директории   
- `-s <1|2>` — размер символа 1 или 2 байта (можно не указывать, по умолчанию 1 байт)
- Все остальные аргументы считаются входными путями
### Примеры:

Сжатие одного файла:

```
./huffman -c input.txt -o archive.huff -s 1
```

Сжатие директории:

```
./huffman -c data_dir -o data.huff -s 2
```

Распаковка архива:

```
./huffman -d archive.huff -o output_dir
```

Извлечение конкретного файла:

```
./huffman -d -i archive.huff -f file.txt -o ./output
```

Получение справки:

```
./huffman --help
```
